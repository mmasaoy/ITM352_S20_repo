//Taken from lab13 with notes from the recording of Professor Dan//
//Assignment1 by Shane Gimenez//

<script src="ProductData.js" type="text/javascript"></script>

<script>
    // Taken from my Lab13
    function checkQuantityTextbox() {
        errors_array = isNonNegInt(quantity_textbox.value, true);
        qty_textbox_message.innerHTML = errors_array.join(' ');
    }
    function isNonNegInt(q, returnErrors = false) {
        errors = []; // assume no errors at first
        if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
        if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
        if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
        return returnErrors ? errors : (errors.length == 0);
    }

    // Get the query string values from form submission
    let params = (new URL(document.location)).searchParams;
    GET = {};
    params.forEach(function (value, key) { GET[key] = value });
</script>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sha'Zey's design</title>
    <link rel="stylesheet" href="ProductStyle.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Raleway" rel="stylesheet">

</head>

<header>
    <div>
        <a href="index.html">Homepage</a>
        <h1>Face Mask Design's for You!</h1>
        <br>
    </div>
</header>
<body>
    <form name="quantity_form" action="/process_form" method="POST">
        <main>
            <script>
                // Generating variables for items --> Taken from Assignment 1 example
                for (i = 0; i < products.length; i++) {
                    document.write(` 
              <section class="Facemask Design">
              <h2>${products[i]["Facemask"]}</h2>
              <p>\$${products[i]["price"]}</p>
    <img class="img" src="${products[i]["image"]}">
    <br>
             
             
              <input id="qty_textbox_message" type="text" placeholder="Enter quantity!" name="quantity${i}" onkeyup="checkQuantityTextbox(this);"> 
              
              
              </section>
            `);
                }
            </script>
        </main>
        </div>
        <!--Taken from Lab 13 -->
        <div id="buyButton">
            <br>
            <input name="purchase_submit_button" type="submit" value="Purchase">
        </div>
    </form>

    <center>
    
        <br>
        <br>
        <a href="ProductsDisplay1.html">Next</a>
    </center>
</body>

<footer>
    Â© 2020 Shane Gimenez
</footer>

</html>
